# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

shaping:
  port_attributes:
    - empty
    - full
    - on_shipper
    - on_consignee
    - booking
    - shortage
    - fulfillment
  vessel_attributes:
    - empty
    - full
    - remaining_space
  num_actions: 21
  # Parameters for computing states
  look_back: 7
  max_ports_downstream: 2
  # Parameters for computing actions
  finite_vessel_space: true
  has_early_discharge: true
  # Parameters for computing rewards
  reward_eval_delay: 99
  fulfillment_factor: 1.0
  shortage_factor: 1.0
  time_decay: 0.97
agent:
  model:
    hidden_dims:
      - 256
      - 128
      - 64
    activation: leaky_relu
    softmax: false
    batch_norm: true
    skip_connection: false
    head: true
    dropout_p: 0.0
  optimization:
    optim_cls: rmsprop
    optim_params:
      lr: 0.05
  algorithm: 
    reward_discount: .0
    train_iters: 10
    batch_size: 128
    loss_cls: smooth_l1
    target_update_freq: 5
    soft_update_coefficient: 0.1
    double: false
  experience_memory:
    experience_memory_size: -1
    experience_memory_overwrite_type: "rolling"
    empty_experience_memory_after_step: false
    min_new_experiences_to_trigger_learning: 16
    min_experiences_to_trigger_learning: 1024
training: 
  env:
    scenario: cim
    topology: toy.4p_ssdd_l0.0
    durations: 1120
  max_episode: 5
  agent_update_interval: 200
  exploration:
    parameter_names:
      - epsilon
    split: 0.5
    start: 0.4
    mid: 0.32
    end: 0.0
distributed:
  group: cim-dqn
  num_actors: 3
  redis_host: localhost
  redis_port: 6379
  required_actor_finishes: 2